/**
 * @description chokidar文件监听方式
 *
 * @author pakinguo
 *
 */

var chokidar = require('chokidar');

var watcher = chokidar.watch(process.argv[2], {ignored: /[\/\\]\./, persistent: true});

watcher
	.on('add', function(path) {
		dispose('add', path);
	})
	.on('addDir', function(path) {
		dispose('addDir', path);
	})
	.on('change', function(path) {
		dispose('change', path);
	})
	.on('unlink', function(path) {
		dispose('unlink', path);
	})
	.on('unlinkDir', function(path) {
		dispose('unlinkDir', path);
	})
	.on('error', function(error) {
		dispose('error', path);
	})


function dispose(type, path){
	console.log('Type: ' + type + ': ' + path);
}