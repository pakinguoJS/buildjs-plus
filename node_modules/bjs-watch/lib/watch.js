/**
 * @description chokidar文件监听方式
 *
 * @author pakinguo
 *
 */

'use strict';

module.exports = {
	watchA: watchByChokidar,
	watchB: watchByInotify
}


// change type mapping



function watchByChokidar(path, callback, ignored){
	var chokidar = require('chokidar');
	var watcher = chokidar.watch(path, {
		ignored: ignored || /[\/\\]\./, persistent: true
	});

	watcher
		.on('add', function(path) {
			callback('add', path);
		})
		.on('addDir', function(path) {
			callback('addDir', path);
		})
		.on('change', function(path) {
			callback('change', path);
		})
		.on('unlink', function(path) {
			callback('unlink', path);
		})
		.on('unlinkDir', function(path) {
			callback('unlinkDir', path);
		})
		.on('error', function(error) {
			callback('error', path);
		})
}


function watchByInotify(path, ignored, callback){

}

