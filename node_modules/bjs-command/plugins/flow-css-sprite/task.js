'use strict';


var PATH = require('path');

var gruntUtil = require('bjs-command-util');
var cssSprite = require(PATH.join(__dirname, 'lib/cssSprite.js'));


module.exports = function(files, options) {
	gruntUtil.files(files).forEach(function(fileObj) {
		options = gruntUtil.options({
			// default
			prefix: 'icon',
			cssPath: '../img',
			processor: 'css',
			src: PATH.join(PATH.dirname(fileObj.src[0]), '*.png').replace(/\\+/g, '/')
		}, options);

		cssSprite(options);
	});
}